# PDFをマークダウン形式に変換する

1. 引数で指定されたPDFと同じディレクトリに、同じファイル名で.mdファイルを作成する。
2. PDFを読んでセクション構造をマークダウン形式でマークダウンファイルに出力する。セクション番号はPDFの番号に従うこと。
3. セクションごとに、「このセクションの内容をマークダウン形式に変換し、マークダウンファイルの該当のセクションの部分に挿入する。段落ごとに空白行で区切ること。」というサブタスクを生成する。
4. 生成したサブタスクを順番に実行する。
5. 全てのセクションを１つずつ確認し、空白のセクションがないかを確認する。空白のセクションがあれば修正する。
6. 図表の挿入: PDFに図表（Figure、Table、Chart等）が含まれている場合は以下の手順で処理する：
   - `pdftoppm`を使用してPDFの各ページをPNG画像として抽出し、`images/`ディレクトリに保存する
   - 各図表が含まれるページを特定し、ページ全体の画像を適切な箇所にマークダウン形式で挿入する
   - 図表の参照は `![Figure X: 説明](images/page-XX.png)` の形式で行う
   - 図表の切り取りは行わず、ページ全体の画像をそのまま使用する
   - 使用しないページの画像は削除する。また使用するページの画像については名前に図表の名前をつける（例: `images/figure-1.png`）。
   - 同一ページに複数の図表が含まれる場合は、それぞれの図表ごとにページ画像を用意する（つまり図表の数とページ画像の数は同じになる）。
7. `pnpx markdownlint-cli2 <マークダウンファイル名>`を実行してフォーマットをチェックし、エラーがあれば修正する。

## よくある間違い

- [ ] 特定のセクションが空白になってしまっている
- [ ] 特定の図表が抜けている
- [ ] 図表が載っていないページを誤って画像として使用している
- [ ] 複数の図表が同じページに載っている場合に、１つの画像にまとめてしまっている
  - たとえばfigure1とfigure2が同じページに載っている場合、`images/figure-1.png`と`images/figure-2.png`の２つの画像を作成する必要がある。
- [ ] 画像を切り抜こうとしてしまう
  - どうせ正しく切り抜けないので、ページ全体の画像をそのまま使用すること
- [ ] 画像の名前が指定されたフォーマットに沿っていない
